{"version":3,"sources":["services/api.ts","services/token.ts","const.tsx","utils.ts","components/logo/logo.tsx","types/action.ts","store/action.ts","store/root-reducer.ts","store/main/main.ts","store/user/user.ts","store/offer/offer.ts","store/user/selectors.ts","services/adapters.ts","store/api-actions.ts","containers/header/header.tsx","containers/content/content.tsx","containers/footer/footer.tsx","containers/layout/layout.tsx","store/main/selectors.ts","components/menu-item/menu-item.tsx","components/tabs/tabs.tsx","components/places-sorting/places-sorting.tsx","components/offer-image-wrapper/offer-image-wrapper.tsx","components/rating-block/rating-block.tsx","components/bookmark-block/bookmark-block.tsx","components/offer-info-wrapper/offer-info-wrapper.tsx","components/premium-block/premium-block.tsx","components/offer-card/offer-card.tsx","components/offers-list/offers-list.tsx","store/offer/selectors.ts","components/map/map.tsx","hooks/use-map.tsx","components/places-in-city/places-in-city.tsx","components/no-places-to-stay/no-places-to-stay.tsx","views/home/home.tsx","views/log-in/log-in.tsx","components/favorites-empty/favorites-empty.tsx","components/favorites-by-city/favorites-by-city.tsx","views/favorites/favorites.tsx","components/images-of-place/images-of-place.tsx","components/features/features.tsx","components/about-place/about-place.tsx","components/about-host/about-host.tsx","components/rating-list/rating-list.tsx","components/new-comment-form/new-comment-form.tsx","components/review/review.tsx","components/reviews-list/reviews-list.tsx","views/property/property.tsx","components/private-route/private-route.tsx","components/loading/loading.tsx","components/app/app.tsx","browser-history.ts","store/middlewares/redirect.ts","index.tsx"],"names":["HttpCode","AUTH_TOKEN_KEY_NAME","AppRoute","AuthorizationStatus","UrlMarker","RATING_STARS","RATING_VALUES","RATING_STYLE","CITIES","PagesApp","PIN_SIZE","PIN_ANCHOR","PagesClass","Map","SortValue","APIRoute","OFFER_IN_HOME","article","image","info","OFFER_IN_FAVORITES","OFFER_IN_PROPERTY","BOOKMARK_CARD","BOOKMARK_DETAIL","FAVORITE_PAGE_ICON","FAVORITE_ICON","MAP_PROPERTY","width","height","LOGO_PROPERTY","footer","header","citiesData","mapJSON","getRatingStyle","rating","Math","round","sortOffersRating","offerA","offerB","sign","sortOffersAsc","price","sortOffersDesc","sortCommentsByDate","commentA","commentB","dayjs","date","diff","getSortOffers","offers","sortValue","Popular","sort","Asc","Desc","Rated","Logo","place","linkClass","cn","imgClass","className","to","src","alt","ActionType","NameSpace","loadOffers","createAction","LoadOffers","loadOffersNearby","LoadOffersNearby","loadInfoAboutOffer","LoadInfoAboutOffer","loadFavoriteOffers","LoadFavoriteOffers","loadCommentsAboutOffer","LoadCommentsAboutOffer","setActiveCity","SetActiveCity","setOfferActive","SetOfferActive","setSortOffers","SetSortOffers","setUserInfo","SetUserInfo","setRating","SetRating","setTextComment","SetTextComment","login","SetAuthStatus","logout","DeleteAuthorization","redirectToRoute","RedirectToRoute","initialState","city","filter","cityObj","title","isDataLoaded","favorites","main","createReducer","builder","addCase","state","action","cityData","payload","lat","lng","zoom","authorizationStatus","Unknown","user","undefined","NoAuth","focus","comments","nearby","newCommentText","newCommentRating","offer","rootReducer","combineReducers","mainReducer","userReducer","offerReducer","getAuthorizationStatus","getUserInfo","adaptOffersToClient","map","bedrooms","location","name","description","goods","host","avatarUrl","avatar_url","id","isPro","is_pro","images","isFavorite","is_favorite","isPremium","is_premium","maxAdults","max_adults","previewImage","preview_image","type","adaptOfferToClient","adaptCommentsToClient","comment","adaptUserToClient","email","token","fetchOffersAction","dispatch","_getState","api","a","get","Offers","data","adaptedData","fetchCommentsAboutAction","path","Comments","fetchFavoriteOffersAction","Favorite","Header","page","isAuth","useSelector","useDispatch","handleLogOut","delete","Logout","localStorage","removeItem","LogIn","Auth","Favorites","href","style","backgroundImage","borderRadius","Root","onClick","Login","Content","children","Footer","Layout","isHome","isLogIn","isGrey","divClasses","getCity","getOffers","getFavoriteOffers","getSort","MenuItem","cityItem","cityCurrent","cityClick","isActive","e","preventDefault","Tabs","PlacesSorting","useState","status","setStatus","method","tabIndex","xlinkHref","Object","values","sortItem","OfferImageWrapper","imageClass","pathToOffer","RatingBlock","isPropertyDetail","ratingClasses","starsClasses","BookmarkBlock","forOffer","simpleClassSVG","blockState","buttonClasses","post","sendOfferStatusFavoriteAction","OfferInfoWrapper","infoClass","PremiumBlock","divClass","OfferCard","classes","handleStateSet","handleStateReset","Room","onMouseEnter","onMouseLeave","OffersList","onFocusOffer","value","key","getOfferActive","getOfferInfo","getComments","getOffersNearby","getRating","getCommentText","LeafIcon","url","options","iconUrl","iconSize","iconAnchor","Icon","defaultCustomIcon","Default","currentCustomIcon","Active","markerGroup","L","layerGroup","offerInFocus","mapRef","useRef","setMap","useLocation","useEffect","current","instance","center","pathname","Marker","setIcon","addTo","layer","TileLayer","attribution","addLayer","setView","useMap","locations","hoverPoint","clearLayers","forEach","latitude","longitude","marker","isHoverPoint","setMarkersOnMap","ref","PlacesInCity","allOffers","getFiltredOffers","length","Home","NoPlacesToStay","document","querySelector","classList","add","isEmpty","loginRef","passwordRef","onSubmit","password","response","serverData","setItem","loginAction","placeholder","required","pattern","FavoritesEmpty","FavoritesByCity","favoritesInCities","reduce","previousValue","currentValue","result","push","ImagesOfPlace","nextId","Features","features","feature","AboutPlace","AboutHost","RatingList","currentRating","handleRatingChange","ratingValue","target","checked","keyValue","onChange","htmlFor","NewCommentForm","textareaRef","isDisabled","then","catch","toast","sendNewComment","disabled","Review","review","FormatsOfDate","formatedDateShort","format","formatedDateFull","dateTime","ReviewsList","reviews","slice","Property","useParams","fetchOfferInfoAction","fetchOffersNearbyAction","offersNearby","PrivateRoute","props","exact","render","routeProps","Loading","fill","x","rx","ry","attributeName","dur","repeatCount","begin","connector","connect","USER","MAIN","isCheckedAuth","browserHistory","createBrowserHistory","basename","redirect","_store","next","onUnauthorized","axios","create","baseURL","timeout","interceptors","use","error","Unauthorized","Promise","reject","request","config","getItem","getToken","headers","createAPI","store","configureStore","reducer","middleware","getDefaultMiddleware","thunk","extraArgument","concat","ReactDOM","StrictMode","history","getElementById"],"mappings":"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","file":"static/js/main.9255fe90.chunk.js","sourcesContent":["import axios, {AxiosInstance, AxiosResponse, AxiosError, AxiosRequestConfig} from 'axios';\nimport {getToken} from './token';\n\nconst BACKEND_URL = 'https://8.react.pages.academy/six-cities';\nconst REQUEST_TIMEOUT = 5000;\n\nenum HttpCode {\n  Unauthorized = 401,\n}\n\ntype UnauthorizedCallback = () => void;\n\nexport const createAPI = (onUnauthorized: UnauthorizedCallback): AxiosInstance => {\n  const api = axios.create({\n    baseURL: BACKEND_URL,\n    timeout: REQUEST_TIMEOUT,\n  });\n\n  api.interceptors.response.use(\n    (response: AxiosResponse) => response,\n\n    (error: AxiosError) => {\n      const {response} = error;\n\n      if (response?.status === HttpCode.Unauthorized) {\n        return onUnauthorized();\n      }\n\n      return Promise.reject(error);\n    },\n  );\n\n  api.interceptors.request.use(\n    (config: AxiosRequestConfig) => {\n      const token = getToken();\n\n      if (token) {\n        config.headers['x-token'] = token;\n      }\n\n      return config;\n    },\n  );\n\n  return api;\n};\n","const AUTH_TOKEN_KEY_NAME = 'six-cities-token';\n\nexport type Token = string;\n\nexport const getToken = (): Token => {\n  const token = localStorage.getItem(AUTH_TOKEN_KEY_NAME);\n  return token ?? '';\n};\n\nexport const saveToken = (token: Token): void => {\n  localStorage.setItem(AUTH_TOKEN_KEY_NAME, token);\n};\n\nexport const dropToken = (): void => {\n  localStorage.removeItem(AUTH_TOKEN_KEY_NAME);\n};\n","import {PointExpression} from 'leaflet';\nimport * as mapJSON from './components/map/map-data.json';\n\nexport enum AppRoute {\n  Root = '/',\n  Login = '/login',\n  Favorites = '/favorites',\n  Room = '/offer/',\n}\n\nexport enum AuthorizationStatus {\n  Auth = 'AUTH',\n  NoAuth = 'NO_AUTH',\n  Unknown = 'UNKNOWN',\n}\n\nexport const RATING_STARS = {\n  'one': 1,\n  'two': 2,\n  'three': 3,\n  'four': 4,\n  'five': 5,\n};\n\nexport const RATING_VALUES: number[] = [5, 4, 3, 2, 1];\n\nexport const RATING_STYLE = {\n  'zero': 0,\n  'one': 20,\n  'two': 40,\n  'three': 60,\n  'four': 80,\n  'five': 100,\n};\n\nexport const CITIES = [ 'Paris', 'Cologne', 'Brussels', 'Amsterdam', 'Hamburg', 'Dusseldorf'];\n\nexport enum UrlMarker {\n  Default = '/six-cities/img/pin.svg',\n  Active = '/six-cities/img/pin-active.svg',\n}\n\nexport const PIN_SIZE: PointExpression = [20, 30];\nexport const PIN_ANCHOR: PointExpression = [10, 30];\n\nexport const PagesClass = new Map ([\n  ['Home', 'page__main--index'],\n  ['LogIn', 'page__main--login'],\n  ['Favorites', 'page__main--favorites'],\n  ['Property', 'page__main--property'],\n  ['undefined', 'page__main--undefined'],\n]);\n\nexport enum PagesApp {\n  Home = 'Home',\n  LogIn = 'LogIn',\n  Favorites = 'Favorites',\n  Property = 'Property',\n  undefined = 'undefined',\n}\n\nexport const OFFER_IN_HOME = {\n  article: 'cities__place-card',\n  image: 'cities__image-wrapper',\n  info: '',\n};\n\nexport const OFFER_IN_FAVORITES = {\n  article: 'favorites__card',\n  image: 'favorites__image-wrapper',\n  info: 'favorites__card-info',\n};\n\nexport const OFFER_IN_PROPERTY = {\n  article: 'near-places__card',\n  image: 'near-places__image-wrapper',\n  info: '',\n};\n\nexport const BOOKMARK_CARD = {\n  width: 18,\n  height: 19,\n};\n\nexport const BOOKMARK_DETAIL = {\n  width: 31,\n  height: 33,\n};\n\nexport const FAVORITE_PAGE_ICON = {\n  width: '150',\n  height: '110',\n};\n\nexport const FAVORITE_ICON = {\n  width: '260',\n  height: '200',\n};\n\nexport const MAP_PROPERTY = {\n  link : 'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png',\n  attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n  zoomCity: 13,\n  zoomOffer: 13,\n  zoomLocation: 8,\n  propertyMapSize: {\n    width: 1144,\n    height: 579,\n  },\n  homeMapSize: {\n    width: 512,\n    height: 752,\n  },\n};\n\nexport const LOGO_PROPERTY = {\n  footer: {\n    width: '64',\n    height: '33',\n  },\n  header: {\n    width: '81',\n    height: '41',\n  },\n};\n\nexport enum SortValue {\n  Popular = 'Popular',\n  Asc = 'Price: low to high',\n  Desc = 'Price: high to low',\n  Rated = 'Top rated first',\n}\n\nexport enum APIRoute {\n  Offers = '/hotels',\n  Favorite = '/favorite',\n  Comments = '/comments',\n  Login = '/login',\n  Logout = 'logout',\n}\n\nexport const citiesData = mapJSON.cities;\n","import dayjs from 'dayjs';\nimport {Offer} from './types/offer';\nimport {ReviewType} from './types/review';\nimport {RATING_STARS, RATING_STYLE, SortValue, AuthorizationStatus} from './const';\n\nexport const getRatingStyle = (rating: number): number  => {\n  rating = Math.round(rating);\n\n  switch(rating){\n    case RATING_STARS.one:\n      return RATING_STYLE.one;\n    case RATING_STARS.two:\n      return RATING_STYLE.two;\n    case RATING_STARS.three:\n      return RATING_STYLE.three;\n    case RATING_STARS.four:\n      return RATING_STYLE.four;\n    case RATING_STARS.five:\n      return RATING_STYLE.five;\n    default:\n      return RATING_STYLE.zero;\n  }\n};\n\nexport const isCheckedAuth = (authorizationStatus: AuthorizationStatus): boolean => authorizationStatus === AuthorizationStatus.Unknown;\n\nexport const sortOffersRating = (offerA: Offer, offerB: Offer): number => Math.sign(offerB.rating - offerA.rating);\n\nexport const sortOffersAsc = (offerA: Offer, offerB: Offer): number => Math.sign(offerB.price -  offerA.price);\n\nexport const sortOffersDesc = (offerA: Offer, offerB: Offer): number => Math.sign(offerA.price -  offerB.price);\n\nexport const sortCommentsByDate = (commentA: ReviewType, commentB: ReviewType): number => dayjs(commentB.date).diff(dayjs(commentA.date));\n\nexport const getSortOffers = (offers: Offer[], sortValue: string): Offer[] => {\n  switch (sortValue) {\n    case SortValue.Popular:\n      return offers.sort(sortOffersRating);\n    case SortValue.Asc:\n      return offers.sort(sortOffersDesc);\n    case SortValue.Desc:\n      return offers.sort(sortOffersAsc);\n    case SortValue.Rated:\n      return offers.sort(sortOffersRating);\n    default:\n      return offers.sort(sortOffersRating);\n  }\n};\n\nexport const getFiltredOffers = (offers: Offer[], city: string): Offer[] => offers.filter((offer: Offer) => offer.city.name === city);\n","import {Link} from 'react-router-dom';\nimport {LOGO_PROPERTY} from '../../const';\nimport cn from 'classnames';\n\ntype LogoProperty = {\n  width: string,\n  height: string,\n}\n\ntype LogoProps = {\n  place: LogoProperty,\n}\n\nexport default function Logo({place}: LogoProps): JSX.Element {\n  const linkClass = cn (\n    {\n      'footer__logo-link': place === LOGO_PROPERTY.footer,\n      'header__logo-link': place === LOGO_PROPERTY.header,\n    },\n  );\n\n  const imgClass = cn (\n    {\n      'footer__logo': place === LOGO_PROPERTY.footer,\n      'header__logo': place === LOGO_PROPERTY.header,\n    },\n  );\n\n  return (\n    <Link className={linkClass} to=\"/\">\n      <img className={imgClass} src=\"img/logo.svg\" alt=\"6 cities logo\" width={place.width} height={place.height}/>\n    </Link>\n  );\n}\n","import {Action} from 'redux';\nimport {ThunkAction} from 'redux-thunk';\nimport {AxiosInstance} from 'axios';\nimport {State} from '../types/state';\n\nexport enum ActionType {\n  LoadOffers = 'main/loadOffers',\n  LoadOffersNearby = 'offer/loadOffersNearby',\n  LoadFavoriteOffers = 'main/loadFavoriteOffers',\n  LoadInfoAboutOffer = 'offer/loadInfoAboutOffer',\n  LoadCommentsAboutOffer = 'offer/loadCommentsAboutOffer',\n  DeleteAuthorization = 'user/logout',\n  RedirectToRoute = 'user/redirectToRoute',\n  SetActiveCity = 'main/setActiveCity',\n  SetOfferActive = 'offer/setOfferActive',\n  SetAuthStatus = 'user/login',\n  SetSortOffers = 'main/setSortOffers',\n  SetUserInfo ='user/setUserInfo',\n  SetRating = 'offer/setRating',\n  SetTextComment = 'offer/setTextComment',\n}\n\nexport type ThunkActionResult<R = Promise<void>> = ThunkAction<R, State, AxiosInstance, Action>;\n","import {createAction} from '@reduxjs/toolkit';\nimport {ActionType} from '../types/action';\nimport {Offer} from '../types/offer';\nimport {ReviewType} from '../types/review';\nimport {MapCity} from '../types/map';\nimport {UserData} from '../types/auth-data';\nimport {AuthorizationStatus, SortValue, AppRoute} from '../const';\n\nexport const loadOffers = createAction<Offer[]>(ActionType.LoadOffers);\n\nexport const loadOffersNearby = createAction<Offer[]>(ActionType.LoadOffersNearby);\n\nexport const loadInfoAboutOffer = createAction<Offer | undefined>(ActionType.LoadInfoAboutOffer);\n\nexport const loadFavoriteOffers = createAction<Offer[]>(ActionType.LoadFavoriteOffers);\n\nexport const loadCommentsAboutOffer = createAction<ReviewType[]>(ActionType.LoadCommentsAboutOffer);\n\nexport const setActiveCity = createAction<MapCity>(ActionType.SetActiveCity);\n\nexport const setOfferActive = createAction<Offer | undefined>(ActionType.SetOfferActive);\n\nexport const setSortOffers = createAction<SortValue>(ActionType.SetSortOffers);\n\nexport const setUserInfo = createAction<UserData>(ActionType.SetUserInfo);\n\nexport const setRating = createAction<number>(ActionType.SetRating);\n\nexport const setTextComment = createAction<string>(ActionType.SetTextComment);\n\nexport const login = createAction<AuthorizationStatus>(ActionType.SetAuthStatus);\n\nexport const logout = createAction(ActionType.DeleteAuthorization);\n\nexport const redirectToRoute = createAction<AppRoute>(ActionType.RedirectToRoute);\n","import {combineReducers} from 'redux';\nimport {main} from './main/main';\nimport {user} from './user/user';\nimport {offer} from './offer/offer';\n\nexport enum NameSpace {\n  mainReducer = 'MAIN',\n  userReducer = 'USER',\n  offerReducer = 'OFFER',\n}\n\nexport const rootReducer = combineReducers({\n  [NameSpace.mainReducer]: main,\n  [NameSpace.userReducer]: user,\n  [NameSpace.offerReducer]: offer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n","import {createReducer} from '@reduxjs/toolkit';\nimport {setActiveCity, setSortOffers, loadOffers, loadFavoriteOffers} from '../action';\nimport {MainType} from '../../types/state';\nimport {CITIES, citiesData} from '../../const';\nimport {getSortOffers} from '../../utils';\n\nconst cityCurrent = citiesData.filter((cityObj) => cityObj.title === CITIES[0])[0];\n\nconst initialState: MainType = {\n  city: cityCurrent,\n  offers: [],\n  isDataLoaded: false,\n  sort: 'Popular',\n  favorites: [],\n};\n\nconst main = createReducer(initialState, (builder) => {\n  builder\n    .addCase(setActiveCity, (state, action) => {\n      const cityData = citiesData.filter((cityObj) => cityObj.title === action.payload.title)[0];\n      state.city = {\n        title: cityData.title,\n        lat: cityData.lat,\n        lng: cityData.lng,\n        zoom: cityData.zoom,\n      };\n    })\n    .addCase(loadOffers, (state, action) => {\n      state.offers = getSortOffers(action.payload, state.sort);\n      state.isDataLoaded = true;\n    })\n    .addCase(setSortOffers, (state, action) => {\n      state.sort = action.payload;\n      state.offers = getSortOffers(state.offers, action.payload);\n    })\n    .addCase(loadFavoriteOffers, (state, action) => {\n      state.favorites = action.payload;\n    });\n});\n\nexport {main};\n","import {createReducer} from '@reduxjs/toolkit';\nimport {login, logout, setUserInfo} from '../action';\nimport {AuthorizationStatus} from '../../const';\nimport {UserType} from '../../types/state';\n\nconst initialState: UserType = {\n  authorizationStatus: AuthorizationStatus.Unknown,\n  user: undefined,\n};\n\nconst user = createReducer(initialState, (builder) => {\n  builder\n    .addCase(login, (state, action) => {\n      state.authorizationStatus = action.payload;\n    })\n    .addCase(logout, (state) => {\n      state.authorizationStatus = AuthorizationStatus.NoAuth;\n    })\n    .addCase(setUserInfo, (state, action) => {\n      state.user = action.payload;\n    });\n});\n\nexport {user};\n","import {createReducer} from '@reduxjs/toolkit';\nimport {setOfferActive, loadOffersNearby, loadInfoAboutOffer, loadCommentsAboutOffer, setRating, setTextComment} from '../action';\nimport {OfferType} from '../../types/state';\n\nconst initialState: OfferType = {\n  focus: undefined,\n  info: undefined,\n  comments: [],\n  nearby: [],\n  newCommentText: '',\n  newCommentRating: 0,\n};\n\nconst offer = createReducer(initialState, (builder) => {\n  builder\n    .addCase(setOfferActive, (state, action) => {\n      state.focus = action.payload;\n    })\n    .addCase(loadOffersNearby, (state, action) => {\n      state.nearby = action.payload;\n    })\n    .addCase(loadInfoAboutOffer, (state, action) => {\n      state.info = action.payload;\n    })\n    .addCase(loadCommentsAboutOffer, (state, action) => {\n      state.comments = action.payload;\n    })\n    .addCase(setRating, (state, action) => {\n      state.newCommentRating = action.payload;\n    })\n    .addCase(setTextComment, (state, action) => {\n      state.newCommentText = action.payload;\n    });\n});\n\nexport {offer};\n","import {NameSpace} from '../root-reducer';\nimport {State} from '../../types/state';\nimport {UserData} from '../../types/auth-data';\nimport {AuthorizationStatus} from '../../const';\n\nexport const getAuthorizationStatus = (state: State): AuthorizationStatus => state[NameSpace.userReducer].authorizationStatus;\nexport const getUserInfo = (state: State): UserData | undefined => state[NameSpace.userReducer].user;\n","import {Offer} from '../types/offer';\nimport {ReviewType} from '../types/review';\nimport {OfferDTO, CommentDTO, UserDTO} from '../types/server-types';\nimport {UserData} from '../types/auth-data';\n\nconst adaptOffersToClient = (offers:OfferDTO[] = []): Offer[] =>\n  offers.map((offer) => ({\n    bedrooms: offer.bedrooms,\n    city: {\n      location: {...offer.city.location },\n      name: offer.city.name,\n    },\n    description: offer.description,\n    goods: offer.goods,\n    host: {\n      avatarUrl: offer.host.avatar_url,\n      id: offer.host.id,\n      isPro: offer.host.is_pro,\n      name: offer.host.name,\n    },\n    id: offer.id,\n    images: offer.images,\n    isFavorite: offer.is_favorite,\n    isPremium: offer.is_premium,\n    location: {...offer.location },\n    maxAdults: offer.max_adults,\n    previewImage: offer.preview_image,\n    price: offer.price,\n    rating: offer.rating,\n    title: offer.title,\n    type: offer.type,\n  }));\n\nconst adaptOfferToClient = (offer:OfferDTO): Offer =>\n  ({\n    bedrooms: offer.bedrooms,\n    city: {\n      location: {...offer.city.location },\n      name: offer.city.name,\n    },\n    description: offer.description,\n    goods: offer.goods,\n    host: {\n      avatarUrl: offer.host.avatar_url,\n      id: offer.host.id,\n      isPro: offer.host.is_pro,\n      name: offer.host.name,\n    },\n    id: offer.id,\n    images: offer.images,\n    isFavorite: offer.is_favorite,\n    isPremium: offer.is_premium,\n    location: {...offer.location },\n    maxAdults: offer.max_adults,\n    previewImage: offer.preview_image,\n    price: offer.price,\n    rating: offer.rating,\n    title: offer.title,\n    type: offer.type,\n  });\n\nconst adaptCommentsToClient = (comments: CommentDTO[] = []): ReviewType[] =>\n  comments.map((comment) => ({\n    comment: comment.comment,\n    date: comment.date,\n    id: comment.id,\n    rating: comment.rating,\n    user: {\n      avatarUrl: comment.user.avatar_url,\n      id: comment.user.id,\n      isPro: comment.user.is_pro,\n      name: comment.user.name,\n    },\n  }));\n\nconst adaptUserToClient = (user: UserDTO): UserData =>\n  ({\n    avatarUrl: user.avatar_url,\n    email: user.email,\n    id: user.id,\n    isPro: user.is_pro,\n    name: user.name,\n    token: user.token,\n  });\n\nexport {adaptOffersToClient, adaptOfferToClient, adaptCommentsToClient, adaptUserToClient};\n","import {ThunkActionResult} from '../types/action';\nimport {loadOffers, login, logout, loadOffersNearby, loadInfoAboutOffer, loadCommentsAboutOffer, loadFavoriteOffers, redirectToRoute, setUserInfo, setRating, setTextComment} from './action';\nimport {saveToken, dropToken} from '../services/token';\nimport {adaptOffersToClient, adaptOfferToClient, adaptCommentsToClient, adaptUserToClient} from '../services/adapters';\nimport {toast} from 'react-toastify';\nimport {APIRoute, AuthorizationStatus, AppRoute} from '../const';\nimport {AuthData} from '../types/auth-data';\nimport {OfferDTO, CommentDTO, UserDTO} from '../types/server-types';\nimport {OfferStatusFavorite, CommentForm} from '../types/offer';\nimport {sortCommentsByDate} from '../utils';\n\nconst AUTH_FAIL_MESSAGE = 'Не забудьте авторизоваться';\nconst COMMENT_FAIL_MESSAGE = 'Ошибка при отправке сообщения';\n\nexport const fetchOffersAction = (): ThunkActionResult =>\n  async (dispatch, _getState, api): Promise<void> => {\n    const {data} = await api.get<OfferDTO[]>(APIRoute.Offers);\n    const adaptedData = adaptOffersToClient(data);\n    dispatch(loadOffers(adaptedData));\n  };\n\nexport const fetchOfferInfoAction = (id: number): ThunkActionResult =>\n  async (dispatch, _getState, api): Promise<void> => {\n    const path = `${APIRoute.Offers}/${id}`;\n    const {data} = await api.get<OfferDTO>(path);\n    const adaptedData = adaptOfferToClient(data);\n    dispatch(loadInfoAboutOffer(adaptedData));\n  };\n\nexport const fetchOffersNearbyAction = (id: number): ThunkActionResult =>\n  async (dispatch, _getState, api): Promise<void> => {\n    const path = `${APIRoute.Offers}/${id}/nearby`;\n    const {data} = await api.get<OfferDTO[]>(path);\n    const adaptedData = adaptOffersToClient(data);\n    dispatch(loadOffersNearby(adaptedData));\n  };\n\nexport const fetchCommentsAboutAction = (id: number): ThunkActionResult =>\n  async (dispatch, _getState, api): Promise<void> => {\n    const path = `${APIRoute.Comments}/${id}`;\n    const {data} = await api.get<CommentDTO[]>(path);\n    const adaptedData = adaptCommentsToClient(data);\n    adaptedData.sort(sortCommentsByDate);\n    dispatch(loadCommentsAboutOffer(adaptedData));\n  };\n\nexport const fetchFavoriteOffersAction = (): ThunkActionResult =>\n  async (dispatch, _getState, api): Promise<void> => {\n    const {data} = await api.get<OfferDTO[]>(APIRoute.Favorite);\n    const adaptedData = adaptOffersToClient(data);\n    dispatch(loadFavoriteOffers(adaptedData));\n  };\n\nexport const sendOfferStatusFavoriteAction = ({id, status}: OfferStatusFavorite): ThunkActionResult =>\n  async (dispatch, _getState, api) => {\n    const path = `${APIRoute.Favorite}/${id}/${status}`;\n    const {data} = await api.post<OfferDTO>(path);\n    const adaptedData = adaptOfferToClient(data);\n    dispatch(loadInfoAboutOffer(adaptedData));\n    dispatch(fetchOffersAction());\n    dispatch(fetchFavoriteOffersAction());\n  };\n\nexport const sendNewComment = ({id, comment, rating}: CommentForm): ThunkActionResult =>\n  async (dispatch, _getState, api) => {\n    const path = `${APIRoute.Comments}/${id}`;\n    await api.post<CommentForm>(path, {comment, rating})\n      .then(() => {\n        dispatch(fetchCommentsAboutAction(id));\n        dispatch(setTextComment(''));\n        dispatch(setRating(0));\n      })\n      .catch(() => {\n        toast.info(COMMENT_FAIL_MESSAGE);\n      });\n  };\n\nexport const checkAuthAction = (): ThunkActionResult =>\n  async (dispatch, _getState, api) => {\n    try {\n      const response = await api.get<UserDTO>(APIRoute.Login);\n      if (response.status === 200){\n        const serverData = response.data;\n        const adaptedData = adaptUserToClient(serverData);\n        dispatch(setUserInfo(adaptedData));\n        dispatch(login(AuthorizationStatus.Auth));\n      }\n      else {\n        dispatch(login(AuthorizationStatus.NoAuth));\n      }\n    }\n    catch {\n      toast.info(AUTH_FAIL_MESSAGE);\n    }\n  };\n\nexport const loginAction = ({email, password}: AuthData): ThunkActionResult =>\n  async (dispatch, _getState, api) => {\n    const response = await api.post<UserDTO>(APIRoute.Login, {email, password});\n    const serverData = response.data;\n    saveToken(serverData.token);\n    const adaptedData = adaptUserToClient(serverData);\n    dispatch(setUserInfo(adaptedData));\n    dispatch(login(AuthorizationStatus.Auth));\n    dispatch(redirectToRoute(AppRoute.Root));\n  };\n\nexport const logoutAction = (): ThunkActionResult =>\n  async (dispatch, _getState, api) => {\n    api.delete(APIRoute.Logout);\n    dropToken();\n    dispatch(logout());\n  };\n","import Logo from '../../components/logo/logo';\nimport {PagesApp, LOGO_PROPERTY} from '../../const';\nimport {useSelector} from 'react-redux';\nimport {getAuthorizationStatus, getUserInfo} from '../../store/user/selectors';\nimport {AuthorizationStatus, AppRoute} from '../../const';\nimport {Link} from 'react-router-dom';\nimport {useDispatch} from 'react-redux';\nimport {logoutAction} from '../../store/api-actions';\n\ntype HeaderProps = {\n  page: string,\n}\n\nexport default function Header({page}: HeaderProps): JSX.Element {\n  const isAuth = useSelector(getAuthorizationStatus);\n  const user = useSelector(getUserInfo);\n  const dispatch = useDispatch();\n\n  const handleLogOut = () => {\n    dispatch(logoutAction());\n  };\n\n  return (\n    <header className=\"header\">\n      <div className=\"container\">\n        <div className=\"header__wrapper\">\n          <div className=\"header__left\">\n            <Logo place={LOGO_PROPERTY.header}/>\n          </div>\n          {(page !== PagesApp.LogIn) &&\n            <nav className=\"header__nav\">\n              <ul className=\"header__nav-list\">\n                <li className=\"header__nav-item user\">\n                  {isAuth === AuthorizationStatus.Auth && user &&\n                  <Link to={AppRoute.Favorites} className=\"header__nav-link header__nav-link--profile\" href=\"#/\">\n                    <div\n                      className=\"header__avatar-wrapper user__avatar-wrapper\"\n                      style={{\n                        backgroundImage:`url(${user.avatarUrl})`,\n                        borderRadius: '50%',\n                      }}\n                    >\n                    </div>\n                    <span className=\"header__user-name user__name\">{user.name}</span>\n                  </Link>}\n                </li>\n                <li className=\"header__nav-item\">\n                  {isAuth === AuthorizationStatus.Auth ?\n                    <Link to={AppRoute.Root} className=\"header__nav-link\" href=\"#/\" onClick={() => handleLogOut()}>\n                      <span className=\"header__signout\">Sign out</span>\n                    </Link>\n                    :\n                    <Link to={AppRoute.Login} className=\"header__nav-link\" href=\"#/\">\n                      <span className=\"header__signin\">Sign in</span>\n                    </Link>}\n                </li>\n              </ul>\n            </nav>}\n        </div>\n      </div>\n    </header>\n  );\n}\n","import {PropsWithChildren} from 'react';\nimport {PagesClass} from '../../const';\nimport cn from 'classnames';\n\ntype ContentProps = {\n  page: string,\n}\n\nexport default function Content({children, page}: PropsWithChildren<ContentProps>): JSX.Element {\n  return (\n    <main className={cn ('page__main', PagesClass.get(page))}>\n      {children}\n    </main>\n  );\n}\n","import Logo from '../../components/logo/logo';\nimport {LOGO_PROPERTY} from '../../const';\n\nfunction Footer(): JSX.Element {\n  return (\n    <footer className=\"footer container\">\n      <Logo place={LOGO_PROPERTY.footer}/>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import {PropsWithChildren} from 'react';\nimport cn from 'classnames';\nimport Header from '../header/header';\nimport Content from '../content/content';\nimport Footer from '../footer/footer';\nimport {PagesApp} from '../../const';\n\ntype LayoutProps = {\n  page: string,\n  isHome?: boolean,\n  isLogIn?: boolean,\n  isGrey?: boolean,\n}\n\nexport default function Layout({children, page, isHome, isLogIn, isGrey}: PropsWithChildren<LayoutProps>): JSX.Element {\n  const divClasses = cn (\n    'page',\n    {\n      'page--main': isHome,\n      'page--login': isLogIn,\n      'page--gray': isGrey,\n    },\n  );\n\n  return (\n    <div className={divClasses}>\n      <Header page={page}/>\n      <Content page={page}>{children}</Content>\n      {page === PagesApp.Favorites && <Footer/>}\n    </div>\n  );\n}\n\n","import {NameSpace} from '../root-reducer';\nimport {State} from '../../types/state';\nimport {Offer} from '../../types/offer';\nimport {MapCity} from '../../types/map';\n\nexport const getCity = (state: State): MapCity => state[NameSpace.mainReducer].city;\nexport const getOffers = (state: State): Offer[] => state[NameSpace.mainReducer].offers;\nexport const getFavoriteOffers = (state: State): Offer[] => state[NameSpace.mainReducer].favorites;\nexport const getDataLoad = (state: State): boolean => state[NameSpace.mainReducer].isDataLoaded;\nexport const getSort = (state: State): string => state[NameSpace.mainReducer].sort;\n","import cn from 'classnames';\nimport {useDispatch} from 'react-redux';\nimport {setActiveCity} from '../../store/action';\nimport {useSelector} from 'react-redux';\nimport {getCity} from '../../store/main/selectors';\nimport {MapCity} from '../../types/map';\nimport {citiesData } from '../../const';\n\ntype MenuItemProps = {\n  cityItem: string,\n};\n\nexport default function MenuItem({cityItem}: MenuItemProps): JSX.Element {\n  const cityCurrent = useSelector(getCity);\n  const cityClick = citiesData.filter((cityObj) => cityObj.title === cityItem)[0];\n  const dispatch = useDispatch();\n  const isActive = cityCurrent.title === cityItem;\n\n  const handleCityChange = (city: MapCity) => {\n    dispatch(setActiveCity(city));\n  };\n\n  return (\n    <li className=\"locations__item\">\n      <a\n        className={cn('locations__item-link tabs__item', { 'tabs__item--active': isActive })}\n        href=\"#/\"\n        onClick={(e) => {\n          e.preventDefault();\n          handleCityChange(cityClick);\n        }}\n      >\n        <span>{cityItem}</span>\n      </a>\n    </li>\n  );\n}\n","import MenuItem from '../menu-item/menu-item';\nimport {CITIES} from '../../const';\n\nexport default function Tabs(): JSX.Element {\n  return (\n    <div className=\"tabs\">\n      <section className=\"locations container\">\n        <ul className=\"locations__list tabs__list\">\n          {\n            CITIES.map((cityItem: string) => (\n              <MenuItem\n                key={cityItem}\n                cityItem={cityItem}\n              />))\n          }\n        </ul>\n      </section>\n    </div>\n  );\n}\n","import {useSelector, useDispatch} from 'react-redux';\nimport {setSortOffers} from '../../store/action';\nimport {SortValue} from '../../const';\nimport cn from 'classnames';\nimport {useState} from 'react';\nimport {getSort} from '../../store/main/selectors';\n\nexport default function PlacesSorting(): JSX.Element {\n  const [status, setStatus] = useState<boolean>(false);\n  const sort = useSelector(getSort);\n  const dispatch = useDispatch();\n\n  const handleSortChange = (type: SortValue) => {\n    dispatch(setSortOffers(type));\n    setStatus(!status);\n  };\n\n  const handleSortStateChange = () => {\n    setStatus(!status);\n  };\n\n  return (\n    <form className=\"places__sorting\" action=\"#\" method=\"get\">\n      <span className=\"places__sorting-caption\">Sort by</span>\n      <span className=\"places__sorting-type\" tabIndex={0} onClick={handleSortStateChange}>\n        {sort}\n        <svg className=\"places__sorting-arrow\" width=\"7\" height=\"4\">\n          <use xlinkHref=\"#icon-arrow-select\"/>\n        </svg>\n      </span>\n      <ul className={cn('places__options places__options--custom', {'places__options--open': status === true})}>\n        {Object.values(SortValue).map((sortItem) => (\n          <li\n            key={sortItem}\n            className=\"places__option\"\n            tabIndex={0}\n            onClick={() => {\n              handleSortChange(sortItem);\n            }}\n          >\n            {sortItem}\n          </li>),\n        )}\n      </ul>\n    </form>\n  );\n}\n","\nimport {Link} from 'react-router-dom';\nimport cn from 'classnames';\nimport {Offer} from '../../types/offer';\n\ntype OfferImageWrapperProps = {\n  imageClass: string,\n  pathToOffer: string,\n  width: string,\n  height: string,\n  offer: Offer,\n};\n\nexport default function OfferImageWrapper({imageClass, pathToOffer, width, height, offer}: OfferImageWrapperProps): JSX.Element {\n  const {previewImage} = offer;\n\n  return (\n    <div className={cn ('place-card__image-wrapper', imageClass)}>\n      <Link to={pathToOffer}>\n        <img className=\"place-card__image\" src={previewImage} width={width} height={height} alt=\"Place\" />\n      </Link>\n    </div>\n  );\n}\n","import {getRatingStyle} from '../../utils';\nimport cn from 'classnames';\n\ntype RatingBlockProps = {\n  rating: number,\n  isPropertyDetail?: boolean,\n};\n\nexport default function RatingBlock({rating, isPropertyDetail}: RatingBlockProps): JSX.Element {\n  const ratingClasses = cn (\n    'rating',\n    {\n      'property__rating': isPropertyDetail,\n      'place-card__rating': !isPropertyDetail,\n    },\n  );\n\n  const starsClasses = cn (\n    'rating__stars',\n    {\n      'property__stars': isPropertyDetail,\n      'place-card__stars': !isPropertyDetail,\n    },\n  );\n\n  return (\n    <div className={ratingClasses}>\n      <div className={starsClasses}>\n        <span style={{ width: `${getRatingStyle(rating)}%` }}></span>\n        <span className=\"visually-hidden\">Rating</span>\n      </div>\n    </div>\n  );\n}\n","import {useSelector, useDispatch} from 'react-redux';\nimport {sendOfferStatusFavoriteAction} from '../../store/api-actions';\nimport {redirectToRoute} from '../../store/action';\nimport {getAuthorizationStatus} from '../../store/user/selectors';\nimport cn from 'classnames';\nimport {BOOKMARK_CARD, BOOKMARK_DETAIL, AuthorizationStatus, AppRoute} from '../../const';\n\ntype BookmarkBlockProps = {\n  isFavorite: boolean,\n  isPropertyDetail?: boolean,\n  forOffer: number,\n};\n\nexport default function BookmarkBlock({isFavorite, isPropertyDetail, forOffer}: BookmarkBlockProps): JSX.Element {\n  const dispatch = useDispatch();\n  const authorizationStatus = useSelector(getAuthorizationStatus);\n  const width = !isPropertyDetail ? BOOKMARK_CARD.width : BOOKMARK_DETAIL.width;\n  const height = !isPropertyDetail ? BOOKMARK_CARD.height : BOOKMARK_DETAIL.height;\n  const simpleClassSVG = isPropertyDetail ? 'property__bookmark-icon' : 'place-card__bookmark-icon';\n  const statusNum = (isFavorite) ? 0 : 1;\n\n  const blockState = {\n    id: forOffer,\n    status: statusNum,\n  };\n\n  const handleSubmit = () => {\n    if (authorizationStatus === AuthorizationStatus.Auth){\n      dispatch(sendOfferStatusFavoriteAction(blockState));\n    }\n    else{\n      dispatch(redirectToRoute(AppRoute.Login));\n    }\n  };\n\n  const buttonClasses = cn (\n    'button',\n    {\n      'property__bookmark-button': isPropertyDetail,\n      'place-card__bookmark-button': !isPropertyDetail,\n      'property__bookmark-button--active': isFavorite && isPropertyDetail,\n      'place-card__bookmark-button--active': isFavorite && !isPropertyDetail,\n    },\n  );\n\n  return (\n    <button className={buttonClasses} type=\"button\" onClick={handleSubmit}>\n      <svg className={simpleClassSVG} width={width} height={height}>\n        <use xlinkHref=\"#icon-bookmark\"/>\n      </svg>\n      <span className=\"visually-hidden\">{isFavorite ? 'In' : 'To'}  bookmarks</span>\n    </button>\n  );\n}\n","import {Link} from 'react-router-dom';\nimport RatingBlock from '../rating-block/rating-block';\nimport BookmarkBlock from '../bookmark-block/bookmark-block';\nimport cn from 'classnames';\nimport {Offer} from '../../types/offer';\n\ntype OfferInfoWrapperProps = {\n  infoClass: string,\n  pathToOffer: string,\n  offer: Offer,\n};\n\nexport default function OfferInfoWrapper({infoClass, pathToOffer, offer}: OfferInfoWrapperProps): JSX.Element {\n  const {isFavorite, rating, price, title, type, id} = offer;\n\n  return (\n    <div className={cn ('place-card__info', infoClass)}>\n      <div className=\"place-card__price-wrapper\">\n        <div className=\"place-card__price\">\n          <b className=\"place-card__price-value\">&euro;{price}</b>\n          <span className=\"place-card__price-text\">&#47;&nbsp;night</span>\n        </div>\n        <BookmarkBlock isFavorite={isFavorite} forOffer={id}/>\n      </div>\n      <RatingBlock rating={rating}/>\n      <h2 className=\"place-card__name\">\n        <Link to={pathToOffer}>{title}</Link>\n      </h2>\n      <p className=\"place-card__type\">{type}</p>\n    </div>\n  );\n}\n","type PremiumBlockProps = {\n  isPropertyDetail?: boolean,\n};\n\nexport default function PremiumBlock({isPropertyDetail}: PremiumBlockProps): JSX.Element {\n  const divClass = isPropertyDetail ? 'property__mark' : 'place-card__mark';\n\n  return (\n    <div className={divClass}>\n      <span>Premium</span>\n    </div>\n  );\n}\n","import {Offer, OfferClasses} from '../../types/offer';\nimport OfferImageWrapper from '../offer-image-wrapper/offer-image-wrapper';\nimport OfferInfoWrapper from '../offer-info-wrapper/offer-info-wrapper';\nimport PremiumBlock from '../premium-block/premium-block';\nimport {PagesApp, FAVORITE_ICON, FAVORITE_PAGE_ICON, AppRoute} from '../../const';\nimport cn from 'classnames';\n\ntype OfferCardProps = {\n  offer: Offer,\n  classes: OfferClasses,\n  page: string,\n  handleStateSet?: () => void,\n  handleStateReset?: () => void,\n};\n\nexport default function OfferCard({offer, classes, page, handleStateSet, handleStateReset}: OfferCardProps): JSX.Element {\n  const {isPremium} = offer;\n  const pathToOffer = `${AppRoute.Room}${offer.id}`;\n\n  return (\n    <article className={cn ('place-card',classes.article)} onMouseEnter={handleStateSet} onMouseLeave={handleStateReset}>\n      {isPremium && <PremiumBlock/>}\n      <OfferImageWrapper\n        imageClass={classes.image}\n        pathToOffer={pathToOffer}\n        width={page === PagesApp.Favorites ? FAVORITE_PAGE_ICON.width : FAVORITE_ICON.width}\n        height={page === PagesApp.Favorites ? FAVORITE_PAGE_ICON.height : FAVORITE_ICON.height}\n        offer={offer}\n      />\n      <OfferInfoWrapper\n        infoClass={classes.info}\n        pathToOffer={pathToOffer}\n        offer={offer}\n      />\n    </article>\n  );\n}\n","import {useDispatch} from 'react-redux';\nimport {setOfferActive} from '../../store/action';\nimport {Offer, OfferClasses} from '../../types/offer';\nimport OfferCard from '../../components/offer-card/offer-card';\n\ntype OffersListProps = {\n  offers: Offer[],\n  classes: OfferClasses,\n  page: string,\n};\n\nexport default function OffersList({ offers, classes, page }: OffersListProps): JSX.Element {\n  const dispatch = useDispatch();\n\n  const onFocusOffer = (value?: Offer | undefined) => {\n    dispatch(setOfferActive(value));\n  };\n\n  return (\n    <>\n      {offers.map((offer: Offer) => {\n        const key = offer.id;\n\n        return (\n          <OfferCard\n            key={key}\n            offer={offer}\n            classes={classes}\n            page={page}\n            handleStateSet={() => onFocusOffer(offer)}\n            handleStateReset={() => onFocusOffer(undefined)}\n          />\n        );\n      })}\n    </>\n  );\n}\n","import {NameSpace} from '../root-reducer';\nimport {State} from '../../types/state';\nimport {Offer} from '../../types/offer';\nimport {ReviewType} from '../../types/review';\n\n\nexport const getOfferActive = (state: State): Offer | undefined => state[NameSpace.offerReducer].focus;\nexport const getOfferInfo = (state: State): Offer | undefined => state[NameSpace.offerReducer].info;\nexport const getComments = (state: State): ReviewType[] | [] => state[NameSpace.offerReducer].comments;\nexport const getOffersNearby = (state: State): Offer[] | [] => state[NameSpace.offerReducer].nearby;\nexport const getRating = (state: State): number => state[NameSpace.offerReducer].newCommentRating;\nexport const getCommentText = (state: State): string => state[NameSpace.offerReducer].newCommentText;\n","import {useSelector} from 'react-redux';\nimport {useRef, useEffect} from 'react';\nimport L, {Icon, IconOptions, Map as MapContainer, Marker} from 'leaflet';\nimport useMap from '../../hooks/use-map';\nimport {Location} from '../../types/offer';\nimport {UrlMarker, PIN_SIZE, PIN_ANCHOR} from '../../const';\nimport 'leaflet/dist/leaflet.css';\nimport {getOfferActive} from '../../store/offer/selectors';\nimport {Offer} from '../../types/offer';\n\n\ntype MapProps = {\n  height: number,\n  width: number,\n  zoom: number,\n  offers: Offer[],\n  lat: number,\n  lng: number,\n};\n\nconst LeafIcon = (url: string) => {\n  const options: IconOptions = {\n    iconUrl: url,\n    iconSize: PIN_SIZE,\n    iconAnchor: PIN_ANCHOR,\n  };\n\n  return new Icon(options);\n};\n\nconst defaultCustomIcon = LeafIcon(UrlMarker.Default);\nexport const currentCustomIcon = LeafIcon(UrlMarker.Active);\nconst markerGroup = L.layerGroup();\n\nfunction setMarkersOnMap(locations: Location[], map: MapContainer, hoverPoint?: Location | boolean) {\n  markerGroup.clearLayers();\n  locations.forEach(({latitude: lat, longitude: lng}) => {\n    const marker = new Marker({\n      lat,\n      lng,\n    });\n\n    const isHoverPoint =\n      hoverPoint !== false &&\n      hoverPoint !== true &&\n      hoverPoint !== undefined &&\n      lat === hoverPoint.latitude &&\n      lng === hoverPoint.longitude;\n\n    marker\n      .setIcon(isHoverPoint ? currentCustomIcon : defaultCustomIcon)\n      .addTo(markerGroup);\n  });\n}\n\nexport default function Map({ height, width, zoom, offers, lat, lng}: MapProps): JSX.Element {\n  const offerInFocus = useSelector(getOfferActive);\n  const mapRef = useRef(null);\n  const map = useMap(mapRef, zoom, lat, lng);\n  const locations = offers.map(({location}) => location);\n  const hoverPoint = (offerInFocus !== undefined) && offerInFocus.location;\n  map && markerGroup.addTo(map);\n\n  useEffect(() => {\n    if (map) {\n      setMarkersOnMap(locations, map, hoverPoint);\n    }\n  }, [hoverPoint, map, locations]);\n\n  return (\n    <section\n      className=\"cities__map map\"\n      style={{\n        height: `${height}px`,\n        width: `${width}px`,\n      }}\n      ref={mapRef}\n    />\n  );\n}\n","\nimport {MutableRefObject, useEffect, useState} from 'react';\nimport {Map, TileLayer, Marker} from 'leaflet';\nimport {MAP_PROPERTY} from '../const';\nimport {useLocation } from 'react-router-dom';\nimport {currentCustomIcon} from '../components/map/map';\n\nexport default function useMap (mapRef: MutableRefObject<HTMLElement | null>, zoom: number, lat: number, lng: number): Map | null {\n  const [map, setMap] = useState<Map | null>(null);\n  const location = useLocation();\n\n  useEffect(() => {\n    if (mapRef.current !== null && map === null) {\n      const instance: Map = new Map(mapRef.current, {\n        center: {\n          lat,\n          lng,\n        },\n        zoom: zoom,\n      });\n\n      if (location.pathname !== '/'){\n        const marker = new Marker({\n          lat,\n          lng,\n        });\n        marker\n          .setIcon(currentCustomIcon)\n          .addTo(instance);\n      }\n\n      const layer = new TileLayer(\n        MAP_PROPERTY.link,\n        {\n          attribution: MAP_PROPERTY.attribution,\n        },\n      );\n\n      instance.addLayer(layer);\n      setMap(instance);\n    }\n    else {\n      if (location.pathname !== '/' && map) {\n        const marker = new Marker({\n          lat,\n          lng,\n        });\n        marker\n          .setIcon(currentCustomIcon)\n          .addTo(map);\n      }\n      map && map.setView([lat, lng]);\n    }\n  }, [lat, lng, location.pathname, map, mapRef, zoom]);\n\n  return map;\n}\n","import {useSelector} from 'react-redux';\nimport PlacesSorting from '../places-sorting/places-sorting';\nimport OffersList from '../offers-list/offers-list';\nimport Map from '../map/map';\nimport {PagesApp, OFFER_IN_HOME, MAP_PROPERTY} from '../../const';\nimport {getCity, getOffers} from '../../store/main/selectors';\nimport {getFiltredOffers} from '../../utils';\n\nexport default function PlacesInCity(): JSX.Element {\n  const allOffers = useSelector(getOffers);\n  const city = useSelector(getCity);\n  const offers = getFiltredOffers(allOffers, city.title);\n\n  return (\n    <>\n      <section className='cities__places places'>\n        <h2 className='visually-hidden'>Places</h2>\n        <b className='places__found'>{offers.length} places to stay in {city.title}</b>\n        <PlacesSorting/>\n        <div className='cities__places-list places__list tabs__content'>\n          <OffersList\n            offers={offers}\n            classes={OFFER_IN_HOME}\n            page={PagesApp.Home}\n          />\n        </div>\n      </section>\n      <div className='cities__right-section'>\n        <Map\n          offers = {offers}\n          height={MAP_PROPERTY.homeMapSize.height}\n          width={MAP_PROPERTY.homeMapSize.width}\n          zoom = {MAP_PROPERTY.zoomCity}\n          lat = {city.lat}\n          lng = {city.lng}\n        />\n      </div>\n    </>\n  );\n}\n","import {useSelector} from 'react-redux';\nimport {getCity} from '../../store/main/selectors';\n\nexport default function NoPlacesToStay(): JSX.Element {\n  const city = useSelector(getCity);\n\n  document.querySelector('.page--main')?.classList.add('page__main--index-empty');\n\n  return (\n    <>\n      <section className=\"cities__no-places\">\n        <div className=\"cities__status-wrapper tabs__content\">\n          <b className=\"cities__status\">No places to stay available</b>\n          <p className=\"cities__status-description\">We could not find any property available at the moment in {city.title}</p>\n        </div>\n      </section>\n      <div className=\"cities__right-section\"></div>\n    </>\n  );\n}\n","import {useSelector} from 'react-redux';\nimport Tabs from '../../components/tabs/tabs';\nimport cn from 'classnames';\nimport PlacesInCity from '../../components/places-in-city/places-in-city';\nimport NoPlacesToStay from '../../components/no-places-to-stay/no-places-to-stay';\nimport {getOffers} from '../../store/main/selectors';\n\nexport default function Home(): JSX.Element {\n  const offers = useSelector(getOffers);\n  const isEmpty: boolean = offers.length === 0;\n\n  return (\n    <>\n      <h1 className=\"visually-hidden\">Cities</h1>\n      <Tabs/>\n      <div className=\"cities\">\n        <div className={cn ('cities__places-container container', {'cities__places-container--empty': isEmpty})}>\n          {\n            isEmpty ?\n              <NoPlacesToStay /> :\n              <PlacesInCity />\n          }\n        </div>\n      </div>\n    </>\n  );\n}\n","import {useEffect} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {useRef, FormEvent} from 'react';\nimport {getCity} from '../../store/main/selectors';\nimport {getAuthorizationStatus} from '../../store/user/selectors';\nimport {loginAction} from '../../store/api-actions';\nimport {redirectToRoute} from '../../store/action';\nimport {AppRoute, AuthorizationStatus} from '../../const';\n\nexport default function LogIn(): JSX.Element {\n  const city = useSelector(getCity);\n  const authorizationStatus = useSelector(getAuthorizationStatus);\n  const loginRef = useRef<HTMLInputElement | null>(null);\n  const passwordRef = useRef<HTMLInputElement | null>(null);\n\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (authorizationStatus === AuthorizationStatus.Auth) {\n      dispatch(redirectToRoute(AppRoute.Root));\n    }\n  }, [authorizationStatus, dispatch]);\n\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    if (loginRef.current !== null && passwordRef.current !== null) {\n      dispatch(loginAction({\n        email: loginRef.current.value,\n        password: passwordRef.current.value,\n      }));\n    }\n  };\n\n  return (\n    <div className=\"page__login-container container\">\n      <section className=\"login\">\n        <h1 className=\"login__title\">Sign in</h1>\n        <form className=\"login__form form\" action=\"\" onSubmit={handleSubmit}>\n          <div className=\"login__input-wrapper form__input-wrapper\">\n            <label className=\"visually-hidden\">E-mail</label>\n            <input\n              className=\"login__input form__input\"\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Email\"\n              ref={loginRef}\n              required\n            />\n          </div>\n          <div className=\"login__input-wrapper form__input-wrapper\">\n            <label className=\"visually-hidden\">Password</label>\n            <input\n              className=\"login__input form__input\"\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Password\"\n              ref={passwordRef}\n              required\n              pattern=\"^(?=(.*?[0-9]){1})(?=.*?[a-zA-Z])[0-9A-Za-z]{2,20}$\"\n            />\n          </div>\n          <label className=\"prompt\">* Password, must contain at least one letter and number.</label>\n          <button className=\"login__submit form__submit button\" type=\"submit\">Sign in</button>\n        </form>\n      </section>\n      <section className=\"locations locations--login locations--current\">\n        <div className=\"locations__item\">\n          <a className=\"locations__item-link\" href=\"#/\">\n            <span>{city.title}</span>\n          </a>\n        </div>\n      </section>\n    </div>\n  );\n}\n","export default function FavoritesEmpty(): JSX.Element {\n  return (\n    <div className=\"page__favorites-container container\">\n      <section className=\"favorites favorites--empty\">\n        <h1 className=\"visually-hidden\">Favorites (empty)</h1>\n        <div className=\"favorites__status-wrapper\">\n          <b className=\"favorites__status\">Nothing yet saved.</b>\n          <p className=\"favorites__status-description\">Save properties to narrow down search or plan your future trips.</p>\n        </div>\n      </section>\n    </div>\n  );\n}\n","import OffersList from '../../components/offers-list/offers-list';\nimport {PagesApp, OFFER_IN_FAVORITES} from '../../const';\nimport {Offer} from '../../types/offer';\n\ntype FavoritesByCityProps = {\n  offers: Offer[],\n  city: string,\n}\n\nexport default function FavoritesByCity({offers, city}: FavoritesByCityProps): JSX.Element {\n  return (\n    <li className=\"favorites__locations-items\">\n      <div className=\"favorites__locations locations locations--current\">\n        <div className=\"locations__item\">\n          <a className=\"locations__item-link\" href=\"#/\">\n            <span>{city}</span>\n          </a>\n        </div>\n      </div>\n      <div className=\"favorites__places\">\n        <OffersList\n          offers={offers}\n          classes={OFFER_IN_FAVORITES}\n          page={PagesApp.Favorites}\n        />\n      </div>\n    </li>\n  );\n}\n","import {useEffect} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {fetchFavoriteOffersAction} from '../../store/api-actions';\nimport {getFavoriteOffers} from '../../store/main/selectors';\nimport FavoritesEmpty from '../../components/favorites-empty/favorites-empty';\nimport FavoritesByCity from '../../components/favorites-by-city/favorites-by-city';\nimport {Offer} from '../../types/offer';\nimport {CITIES} from '../../const';\n\nexport default function Favorites(): JSX.Element {\n  const dispatch = useDispatch();\n\n  const offers: Offer[] = useSelector(getFavoriteOffers);\n\n  useEffect(() => {\n    dispatch(fetchFavoriteOffersAction());\n  },[dispatch]);\n\n  const favoritesInCities = offers.reduce((previousValue: {[key: string]: Offer[] | []}, currentValue) => {\n    const {name} = currentValue.city;\n    const isFavorite = currentValue.isFavorite;\n    const result: Offer[] = previousValue[name] || [];\n    isFavorite && result.push(currentValue);\n    previousValue[name] = result;\n\n    return previousValue;\n  },{});\n\n  if (offers.length === 0) {\n    return (\n      <FavoritesEmpty />\n    );\n  }\n\n\n  return (\n    <div className=\"page__favorites-container container\">\n      <section className=\"favorites\">\n        <h1 className=\"favorites__title\">Saved listing</h1>\n        <ul className=\"favorites__list\">\n          {CITIES.map((city) =>\n            (favoritesInCities[city] && favoritesInCities[city].length !== 0)\n            &&\n            (\n              <FavoritesByCity\n                key={city}\n                city={city}\n                offers={favoritesInCities[city]}\n              />\n            ))}\n        </ul>\n      </section>\n    </div>\n  );\n}\n","import nextId from 'react-id-generator';\n\ntype ImagesOfPlaceProps = {\n  images?: string[],\n}\n\nexport default function ImagesOfPlace({images}: ImagesOfPlaceProps): JSX.Element {\n  return (\n    <div className=\"property__gallery-container container\">\n      <div className=\"property__gallery\">\n        {images?.map((image) => {\n          const key = nextId();\n\n          return (\n            <div key={key} className=\"property__image-wrapper\">\n              <img className=\"property__image\" src={image} alt=\"Studio\"/>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","type FeaturesProps = {\n  features?: string[],\n}\n\nexport default function Features({features}: FeaturesProps): JSX.Element {\n  return (\n    <div className=\"property__inside\">\n      <h2 className=\"property__inside-title\">What&apos;s inside</h2>\n      <ul className=\"property__inside-list\">\n        {features && features.map((feature) =>  (\n          <li key ={feature} className=\"property__inside-item\">\n            {feature}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","import {Offer} from '../../types/offer';\nimport PremiumBlock from '../premium-block/premium-block';\nimport BookmarkBlock from '../bookmark-block/bookmark-block';\nimport RatingBlock from '../rating-block/rating-block';\nimport Features from '../features/features';\n\ntype AboutPlaceProps = {\n  offer: Offer,\n}\n\nexport default function AboutPlace({offer}: AboutPlaceProps): JSX.Element {\n  return (\n    <>\n      {offer.isPremium && <PremiumBlock isPropertyDetail/>}\n      <div className=\"property__name-wrapper\">\n        <h1 className=\"property__name\">\n          {offer.title}\n        </h1>\n        <BookmarkBlock  isPropertyDetail isFavorite={offer.isFavorite} forOffer={offer.id}/>\n      </div>\n      <RatingBlock rating={offer.rating} isPropertyDetail/>\n      <ul className=\"property__features\">\n        <li className=\"property__feature property__feature--entire\">\n          {offer.type}\n        </li>\n        <li className=\"property__feature property__feature--bedrooms\">\n          {offer.bedrooms} Bedrooms\n        </li>\n        <li className=\"property__feature property__feature--adults\">\n          Max {offer.maxAdults} adults\n        </li>\n      </ul>\n      <div className=\"property__price\">\n        <b className=\"property__price-value\">&euro;{offer.price}</b>\n        <span className=\"property__price-text\">&nbsp;night</span>\n      </div>\n      <Features features={offer.goods}/>\n    </>\n  );\n}\n","import {Offer} from '../../types/offer';\n\ntype AboutHostProps = {\n  offer: Offer,\n}\n\nexport default function AboutHost({offer}: AboutHostProps): JSX.Element {\n  return (\n    <div className=\"property__host\">\n      <h2 className=\"property__host-title\">Meet the host</h2>\n      <div className=\"property__host-user user\">\n        <div className=\"property__avatar-wrapper property__avatar-wrapper--pro user__avatar-wrapper\">\n          <img className=\"property__avatar user__avatar\" src={offer.host.avatarUrl} width=\"74\" height=\"74\" alt=\"Host avatar\"/>\n        </div>\n        <span className=\"property__user-name\">\n          {offer.host.name}\n        </span>\n        <span className=\"property__user-status\">\n          {offer.host.isPro && 'Pro'}\n        </span>\n      </div>\n      <div className=\"property__description\">\n        <p className=\"property__text\">\n          {offer.description}\n        </p>\n      </div>\n    </div>\n  );\n}\n","import {useDispatch, useSelector} from 'react-redux';\nimport {Fragment} from 'react';\nimport {ChangeEvent} from 'react';\nimport {setRating} from '../../store/action';\nimport {getRating} from '../../store/offer/selectors';\nimport {RATING_VALUES} from '../../const';\n\nexport default function RatingList(): JSX.Element {\n  const dispatch = useDispatch();\n  const currentRating = useSelector(getRating);\n\n  const handleRatingChange = (e: ChangeEvent<HTMLInputElement>): void => {\n    const ratingValue = (e.target.checked === true) ? +e.target.value : 0;\n    dispatch(setRating(ratingValue));\n  };\n\n  return (\n    <>\n      {RATING_VALUES.map((rating: number, id: number) => {\n        const keyValue = `key-${id}`;\n\n        return (\n          <Fragment key={keyValue}>\n            <input className=\"form__rating-input visually-hidden\" name=\"rating\" value={rating} id={`${rating}-stars`} type=\"radio\" checked={currentRating === rating} onChange={handleRatingChange} />\n            <label htmlFor={`${rating}-stars`} className=\"reviews__rating-label form__rating-label\" title=\"perfect\">\n              <svg className=\"form__star-image\" width=\"37\" height=\"33\">\n                <use xlinkHref=\"#icon-star\"/>\n              </svg>\n            </label>\n          </Fragment>\n        );\n      })}\n    </>\n  );\n}\n","import {useRef, FormEvent} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {sendNewComment} from '../../store/api-actions';\nimport RatingList from '../rating-list/rating-list';\nimport {getRating} from '../../store/offer/selectors';\nimport {getCommentText} from '../../store/offer/selectors';\nimport {setTextComment} from '../../store/action';\n\ntype NewCommentFormProps = {\n  id: number,\n}\n\nexport default function NewCommentForm({id} : NewCommentFormProps): JSX.Element {\n  const dispatch = useDispatch();\n  const rating = useSelector(getRating);\n  const textareaRef = useRef<HTMLTextAreaElement | null>(null);\n  const comment: string = useSelector(getCommentText);\n\n  const isDisabled = (textareaRef.current !== null) && (textareaRef.current.value.length < 50 || textareaRef.current.value.length > 300 || rating === 0);\n\n  const handleTextareaChange = (): void => {\n    if (textareaRef.current !== null) {\n      dispatch(setTextComment(textareaRef.current.value));\n    }\n  };\n\n  const handleSubmitComment = (e: FormEvent<HTMLFormElement>): void => {\n    e.preventDefault();\n    const sendData = {\n      id,\n      rating,\n      comment,\n    };\n\n    dispatch(sendNewComment(sendData));\n  };\n\n  return (\n    <form className=\"reviews__form form\" action=\"#\" onSubmit={handleSubmitComment}>\n      <label className=\"reviews__label form__label\" htmlFor=\"review\">Your review</label>\n      <div className=\"reviews__rating-form form__rating\">\n        {<RatingList/>}\n      </div>\n      <textarea\n        className=\"reviews__textarea form__textarea\"\n        id=\"review\"\n        name=\"review\"\n        placeholder=\"Tell how was your stay, what you like and what can be improved\"\n        value={comment}\n        ref={textareaRef}\n        onChange={handleTextareaChange}\n      />\n      <div className=\"reviews__button-wrapper\">\n        <p className=\"reviews__help\">\n          To submit review please make sure to set <span className=\"reviews__star\">rating</span> and describe your stay with at least <b className=\"reviews__text-amount\">50 characters</b>.\n        </p>\n        <button className=\"reviews__submit form__submit button\" type=\"submit\" disabled = {isDisabled}>Submit</button>\n      </div>\n    </form>\n  );\n}\n","\nimport {ReviewType} from '../../types/review';\nimport dayjs from 'dayjs';\nimport {getRatingStyle} from '../../utils';\n\ntype ReviewItemProps = {\n  review: ReviewType,\n}\n\nexport default function Review({review}: ReviewItemProps): JSX.Element {\n  const {comment, user, date, rating} = review;\n\n  const FormatsOfDate = {\n    formatedDateShort: dayjs(date).format('MMMM YYYY'),\n    formatedDateFull: dayjs(date).format('YYYY-MM-DD'),\n  };\n\n  return (\n    <li className=\"reviews__item\">\n      <div className=\"reviews__user user\">\n        <div className=\"reviews__avatar-wrapper user__avatar-wrapper\">\n          <img className=\"reviews__avatar user__avatar\" src={user.avatarUrl} width=\"54\" height=\"54\" alt=\"Reviews avatar\"/>\n        </div>\n        <span className=\"reviews__user-name\">\n          {user.name}\n        </span>\n      </div>\n      <div className=\"reviews__info\">\n        <div className=\"reviews__rating rating\">\n          <div className=\"reviews__stars rating__stars\">\n            <span style={{width:`${getRatingStyle(rating)}%`}}></span>\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <p className=\"reviews__text\">\n          {comment}\n        </p>\n        <time className=\"reviews__time\" dateTime={FormatsOfDate.formatedDateFull}>{FormatsOfDate.formatedDateShort}</time>\n      </div>\n    </li>\n  );\n}\n","import Review from '../review/review';\nimport {ReviewType} from '../../types/review';\n\ntype reviewsProps = {\n  reviews: ReviewType[] | undefined,\n}\n\nexport default function ReviewsList({reviews = []}: reviewsProps): JSX.Element {\n  reviews = reviews.slice(0, 10);\n\n  return (\n    <>\n      <h2 className=\"reviews__title\">Reviews &middot;\n        <span className=\"reviews__amount\">\n          {reviews.length}\n        </span>\n      </h2>\n      <ul className=\"reviews__list\">\n        {\n          reviews.map((review: ReviewType) => {\n            const keyValue = `${review.id}`;\n            return (\n              <Review\n                key={keyValue}\n                review={review}\n              />\n            );\n          })\n        }\n      </ul>\n    </>\n  );\n}\n","import {useParams, useLocation} from 'react-router-dom';\nimport {useEffect} from 'react';\nimport {useDispatch,useSelector} from 'react-redux';\nimport {fetchOfferInfoAction, fetchCommentsAboutAction, fetchOffersNearbyAction} from '../../store/api-actions';\nimport {setOfferActive} from '../../store/action';\nimport {getOfferInfo, getComments, getOffersNearby} from '../../store/offer/selectors';\nimport {getAuthorizationStatus} from '../../store/user/selectors';\nimport ImagesOfPlace from '../../components/images-of-place/images-of-place';\nimport AboutPlace from '../../components/about-place/about-place';\nimport AboutHost from '../../components/about-host/about-host';\nimport NewCommentForm from '../../components/new-comment-form/new-comment-form';\nimport ReviewsList from '../../components/reviews-list/reviews-list';\nimport Map from '../../components/map/map';\nimport OffersList from '../../components/offers-list/offers-list';\nimport {PagesApp, OFFER_IN_PROPERTY, MAP_PROPERTY, AuthorizationStatus} from '../../const';\n\ntype ParamType = {\n  id: string,\n}\n\nexport default function Property(): JSX.Element {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const {id}: ParamType = useParams();\n\n  useEffect(() => {\n    dispatch(setOfferActive(undefined));\n    if (id) {\n      dispatch(fetchOfferInfoAction(+id));\n      dispatch(fetchCommentsAboutAction(+id));\n      dispatch(fetchOffersNearbyAction(+id));\n    }\n  }, [dispatch, id, location]);\n\n  const offer = useSelector(getOfferInfo);\n  const comments = useSelector(getComments);\n  const offersNearby = useSelector(getOffersNearby);\n  const authorizationStatus = useSelector(getAuthorizationStatus);\n  const images = offer ? offer.images.slice(0, 6) : [];\n\n  return (\n    <div>\n      {\n        offer &&\n        <>\n          <section className=\"property\">\n            <ImagesOfPlace images={images} />\n            <div className=\"property__container container\">\n              <div className=\"property__wrapper\">\n                <AboutPlace offer={offer} />\n                <AboutHost offer={offer} />\n                <section className=\"property__reviews reviews\">\n                  <ReviewsList reviews={comments} />\n                  {authorizationStatus === AuthorizationStatus.Auth && <NewCommentForm id={+id}/>}\n                </section>\n              </div>\n            </div>\n            <section className=\"property__map map\">\n              <Map\n                offers = {offersNearby ? offersNearby : []}\n                height={MAP_PROPERTY.propertyMapSize.height}\n                width={MAP_PROPERTY.propertyMapSize.width}\n                zoom = {MAP_PROPERTY.zoomOffer}\n                lat = {offer.location.latitude}\n                lng = {offer.location.longitude}\n              />\n            </section>\n          </section>\n          <div className=\"container\">\n            <section className=\"near-places places\">\n              <h2 className=\"near-places__title\">Other places in the neighbourhood</h2>\n              <div className=\"near-places__list places__list\">\n                {\n                  offersNearby &&\n                  <OffersList\n                    offers={offersNearby}\n                    classes={OFFER_IN_PROPERTY}\n                    page={PagesApp.Property}\n                  />\n                }\n              </div>\n            </section>\n          </div>\n        </>\n      }\n    </div>\n  );\n}\n","import React from 'react';\nimport {Route, Redirect, RouteProps} from 'react-router-dom';\nimport {AppRoute, AuthorizationStatus} from '../../const';\nimport {useSelector} from 'react-redux';\nimport {History} from 'history';\nimport {getAuthorizationStatus} from '../../store/user/selectors';\n\ntype RenderFuncProps = {\n  history: History<unknown>;\n}\n\ntype PrivateRouteProps = RouteProps & {\n  render: (props: RenderFuncProps) => JSX.Element;\n}\n\nexport default function PrivateRoute(props: PrivateRouteProps): JSX.Element {\n  const {exact, path, render} = props;\n  const authorizationStatus = useSelector(getAuthorizationStatus);\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={(routeProps) => (\n        authorizationStatus === AuthorizationStatus.Auth\n          ? render(routeProps)\n          : <Redirect to={AppRoute.Login} />\n      )}\n    />\n  );\n}\n","export default function Loading(): JSX.Element {\n  return (\n    <svg width=\"240\" height=\"300\" fill=\"#a30808\" className=\"loading\">\n      <rect width=\"10%\"  x=\"5%\" rx=\"5%\" ry=\"5%\">\n        <animate attributeName= \"height\" values=\"20%; 70%; 20%\" dur=\"0.7s\" repeatCount=\"indefinite\"/>\n        <animate attributeName= \"y\" values=\"40%; 15%; 40%;\" dur=\"0.7s\" repeatCount=\"indefinite\"/>\n      </rect>\n      <rect width=\"10%\"  x=\"25%\" rx=\"5%\" ry=\"5%\">\n        <animate attributeName= \"height\" values=\"20%; 70%; 20%\" dur=\"0.7s\" begin=\"0.15s\" repeatCount=\"indefinite\"/>\n        <animate attributeName= \"y\" values=\"40%; 15%; 40%;\" dur=\"0.7s\" begin=\"0.15s\" repeatCount=\"indefinite\"/>\n      </rect>\n      <rect width=\"10%\"  x=\"45%\" rx=\"5%\" ry=\"5%\">\n        <animate attributeName= \"height\" values=\"20%; 70%; 20%\" dur=\"0.7s\" begin=\"0.3s\" repeatCount=\"indefinite\"/>\n        <animate attributeName= \"y\" values=\"40%; 15%; 40%;\" dur=\"0.7s\" begin=\"0.3s\" repeatCount=\"indefinite\"/>\n      </rect>\n      <rect width=\"10%\"  x=\"65%\" rx=\"5%\" ry=\"5%\">\n        <animate attributeName= \"height\" values=\"20%; 70%; 20%\" dur=\"0.7s\" begin=\"0.45s\" repeatCount=\"indefinite\"/>\n        <animate attributeName= \"y\" values=\"40%; 15%; 40%;\" dur=\"0.7s\" begin=\"0.45s\" repeatCount=\"indefinite\"/>\n      </rect>\n      <rect width=\"10%\"  x=\"85%\" rx=\"5%\" ry=\"5%\">\n        <animate attributeName= \"height\" values=\"20%; 70%; 20%\" dur=\"0.7s\" begin=\"0.6s\" repeatCount=\"indefinite\"/>\n        <animate attributeName= \"y\" values=\"40%; 15%; 40%;\" dur=\"0.7s\" begin=\"0.6s\" repeatCount=\"indefinite\"/>\n      </rect>\n    </svg>\n  );\n}\n","import {connect, ConnectedProps} from 'react-redux';\nimport {Route, Switch, Link} from 'react-router-dom';\nimport {AppRoute, PagesApp} from '../../const';\nimport {isCheckedAuth} from '../../utils';\nimport Layout from '../../containers/layout/layout';\nimport Home from '../../views/home/home';\nimport LogIn from '../../views/log-in/log-in';\nimport Favorites from '../../views/favorites/favorites';\nimport Property from '../../views/property/property';\nimport PrivateRoute from '../private-route/private-route';\nimport Loading from '../loading/loading';\nimport {State} from '../../types/state';\n\nconst mapStateToProps = ({USER, MAIN}: State) => ({\n  authorizationStatus: USER.authorizationStatus,\n  isDataLoaded: MAIN.isDataLoaded,\n});\n\nconst connector = connect(mapStateToProps);\n\ntype PropsFromRedux = ConnectedProps<typeof connector>;\n\nfunction App(props: PropsFromRedux): JSX.Element {\n  const {authorizationStatus, isDataLoaded} = props;\n\n  if (isCheckedAuth(authorizationStatus) || !isDataLoaded) {\n    return (\n      <Loading />\n    );\n  }\n\n  return (\n    <Switch>\n      <Route exact path={AppRoute.Root}>\n        <Layout page={PagesApp.Home} isHome isGrey>\n          <Home/>\n        </Layout>\n      </Route>\n\n      <Route exact path={AppRoute.Login}>\n        <Layout page={PagesApp.LogIn} isLogIn isGrey>\n          <LogIn />\n        </Layout>\n      </Route>\n\n      <PrivateRoute\n        exact\n        path={AppRoute.Favorites}\n        render={() =>  (\n          <Layout page={PagesApp.Favorites}>\n            <Favorites/>\n          </Layout>\n        )}\n      >\n      </PrivateRoute>\n\n      <Route exact path={`${AppRoute.Room}:id`}>\n        <Layout page={PagesApp.Property}>\n          <Property/>\n        </Layout>\n      </Route>\n\n      <Route\n        render={() =>  (\n          <Layout page={PagesApp.undefined}>\n            <div className=\"container\">\n              <h1>\n                404.\n                <br />\n                <small>Page not found</small>\n              </h1>\n              <Link to=\"/\">Go to main page</Link>\n            </div>\n          </Layout>\n        )}\n      />\n    </Switch>\n  );\n}\n\nexport {App};\nexport default connector(App);\n","import {createBrowserHistory} from 'history';\n\nconst browserHistory = createBrowserHistory({\n  basename: '/six-cities',\n});\n\nexport default browserHistory;\n","import browserHistory from '../../browser-history';\nimport {Middleware} from 'redux';\nimport {State} from '../../types/state';\nimport {ActionType} from '../../types/action';\n\nexport const redirect: Middleware<unknown, State> =\n  (_store) =>\n    (next) =>\n      (action) => {\n\n        if (action.type === ActionType.RedirectToRoute) {\n          browserHistory.push(action.payload);\n        }\n\n        return next(action);\n      };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {configureStore} from '@reduxjs/toolkit';\nimport {createAPI} from './services/api';\nimport {Provider} from 'react-redux';\nimport {Router as BrowserRouter} from 'react-router-dom';\nimport App from './components/app/app';\nimport {rootReducer} from './store/root-reducer';\nimport {login} from './store/action';\nimport {fetchOffersAction, checkAuthAction} from './store/api-actions';\nimport {AuthorizationStatus} from './const';\nimport {redirect} from './store/middlewares/redirect';\nimport {ToastContainer} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport browserHistory from './browser-history';\n\nconst api = createAPI(\n  () => store.dispatch(login(AuthorizationStatus.NoAuth)),\n);\n\nexport const store = configureStore({\n  reducer: rootReducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      thunk: {\n        extraArgument: api,\n      },\n    }).concat(redirect),\n});\n\nstore.dispatch(checkAuthAction());\nstore.dispatch(fetchOffersAction());\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store = {store}>\n      <BrowserRouter history={browserHistory}>\n        <ToastContainer />\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'));\n"],"sourceRoot":""}